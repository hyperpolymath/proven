# SPDX-License-Identifier: PMPL-1.0-or-later
# Copyright (c) 2026 Jonathan D.A. Jewell (hyperpolymath) <jonathan.jewell@open.ac.uk>

# STOP - CRITICAL READING REQUIRED

**THIS FILE MUST BE READ FIRST BY ALL AI AGENTS**

## WHAT IS THIS?

This is the AI manifest for **proven** — a formally verified safety library
with 258 Idris2 modules, Zig FFI bridge, and 120+ language binding targets.

It declares:
- Canonical file locations (where things MUST be, and nowhere else)
- Critical invariants (rules that must NEVER be violated)
- Repository architecture and organization

## CANONICAL LOCATIONS (UNIVERSAL RULE)

### Machine-Readable Metadata: `.machine_readable/` ONLY

These files MUST exist in `.machine_readable/` directory ONLY:
1. **STATE.scm** - Project state, progress, blockers
2. **META.scm** - Architecture decisions, governance
3. **ECOSYSTEM.scm** - Position in ecosystem, relationships
4. **AGENTIC.scm** - AI agent interaction patterns
5. **NEUROSYM.scm** - Neurosymbolic integration config
6. **PLAYBOOK.scm** - Operational runbook

**CRITICAL:** If ANY of these files exist in the root directory, this is an ERROR.

### Bot Directives: `.bot_directives/` ONLY

Bot-specific instructions for automated agents:
- echidnabot - Proof verification automation
- rhodibot - Rhodium standard enforcement
- finishbot - Finishing/polishing automation
- glambot - Code beautification
- seambot - Seamless integration
- sustainabot - Sustainability checks
- robot-repo-automaton - Automated fixes with confidence thresholds

### Contractiles: `contractiles/` ONLY

Policy enforcement contracts:
- k9 - Operational constraints
- dust - Rollback and recovery semantics
- lust - Future intent and roadmap direction
- must - Required invariants and validations
- trust - Cryptographic verification

### Agent Instructions

- `.claude/CLAUDE.md` - Claude-specific patterns and constraints
- `AI.a2ml` - General AI instructions (supplements this file)
- `0-AI-MANIFEST.a2ml` - THIS FILE (universal entry point)

## CORE INVARIANTS

1. **Architecture: Idris2 is the sole computation layer**
   - ALL safety logic lives in `src/Proven/` (Idris2 with dependent types)
   - Zig FFI bridge (`ffi/zig/`) is a PURE ABI layer — no safety logic
   - Language bindings (`bindings/`) are thin wrappers — CALL Idris via FFI only
   - NEVER reimplement algorithms in bindings

2. **No state file duplication** — Root must NOT contain STATE.scm, META.scm, etc.

3. **Single source of truth** — `.machine_readable/` is authoritative

4. **Formal verification** — `--total` flag enforced, `believe_me` is BANNED

5. **License consistency** — All code PMPL-1.0-or-later

6. **Author attribution** — Always "Jonathan D.A. Jewell <jonathan.jewell@open.ac.uk>"

## REPOSITORY STRUCTURE

```
proven/
├── 0-AI-MANIFEST.a2ml         # THIS FILE (start here)
├── AI.a2ml                     # General AI instructions
├── README.adoc                 # Project overview
├── proven.ipkg                 # Main Idris2 package (258 modules)
├── proven-ffi.ipkg             # FFI-only package
├── justfile                    # Build automation
├── Containerfile               # OCI container definition
├── src/                        # Idris2 source (THE TRUTH)
│   ├── Proven.idr              # Main module re-export
│   └── Proven/                 # 104 Safe* modules + FFI + ECHIDNA
│       ├── Core.idr            # Core types and proofs
│       ├── Safe*.idr           # 104 verified safety modules
│       ├── FFI/                # 65 FFI wrapper modules
│       └── ECHIDNA/            # Neurosymbolic proof validation
├── ffi/zig/                    # Zig FFI bridge (pure ABI layer)
│   ├── build.zig               # Zig build configuration
│   └── src/main.zig            # C ABI exports
├── bindings/                   # 120+ language binding targets
├── apps/                       # Proven-based applications
│   └── proven-bgp/             # BGP implementation (DONE)
├── contractiles/               # Security specification contracts
├── .bot_directives/            # Bot orchestration directives
├── .machine_readable/          # ALL machine-readable content
│   ├── STATE.scm               # Project state, progress, blockers
│   ├── META.scm                # Architecture decisions, governance
│   ├── ECOSYSTEM.scm           # Ecosystem position, relationships
│   ├── AGENTIC.scm             # AI agent interaction patterns
│   ├── NEUROSYM.scm            # Neurosymbolic integration config
│   └── PLAYBOOK.scm            # Operational runbook
├── tests/                      # Test suite
├── benchmarks/                 # Performance benchmarks
├── scripts/                    # Build and utility scripts
└── docs/                       # Documentation
```

## SESSION STARTUP CHECKLIST

1. Read THIS file (0-AI-MANIFEST.a2ml) first
2. Understand canonical location: `.machine_readable/` (state files)
3. Know the invariants (architecture, no believe_me, etc.)
4. Read `.machine_readable/STATE.scm` for current status
5. Read `.claude/CLAUDE.md` for detailed development constraints
6. Check `.echidnabot.toml` for proof verification configuration

## LIFECYCLE HOOKS

### on-enter (Session Start)

1. Read and acknowledge this manifest
2. Read `.machine_readable/STATE.scm`
3. Check for blockers
4. State understanding of architecture: Idris2 → Zig FFI → Bindings

### on-exit (Session End)

1. Update `.machine_readable/STATE.scm` if changes made
2. Document new blockers
3. Summarize outcomes
4. Mention whether STATE, contractiles/, .bot_directives/, or Trustfile changed

## ATTESTATION PROOF

After reading this file, demonstrate understanding by stating:

**"I have read the AI manifest for proven. All computation happens in Idris2.
Zig is a pure ABI layer. Bindings are thin wrappers only. Machine-readable
content is in `.machine_readable/` ONLY."**

## META

- **Format Version:** 1.0.0
- **Created:** 2026-02-22
- **Maintained By:** Jonathan D.A. Jewell (hyperpolymath)
- **License:** PMPL-1.0-or-later
- **Protocol:** https://github.com/hyperpolymath/0-ai-gatekeeper-protocol
